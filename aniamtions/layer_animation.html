<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="./layer_animation.css">
    <title>Document</title>
  </head>
  <body>
    <div class="container">
      <div class="layer layer--inactive">
        <div class="layer__inner">
          <div class="layer-item">
            <div class="layer-item__overflow">
              <div class="layer-item__inner">
                <div class="layer-item__bg">
                  <div class="layer-item__bg-img">
                    <img src="https://picsum.photos/id/96/1920/1080" alt="" />
                  </div>
                </div>
                <div class="layer-item__preview-cont">
                  <h2 class="layer-item__heading">section 1</h2>
                </div>
                <div class="layer-item__content">
                  <div class="layer-item__text">Section Content</div>
                  <button type="button" class="layer-item__close-btn">
                    <span class="sr-only">close</span>
                  </button>
                </div>
              </div>
            </div>
          </div>
          <div class="layer-item">
            <div class="layer-item__overflow">
              <div class="layer-item__inner">
                <div class="layer-item__bg">
                  <div class="layer-item__bg-img">
                    <img src="https://picsum.photos/id/122/1920/1080" alt="" />
                  </div>
                </div>
                <div class="layer-item__preview-cont">
                  <h2 class="layer-item__heading">section 2</h2>
                </div>
                <div class="layer-item__content">
                  <div class="layer-item__text">Section Content</div>
                  <button type="button" class="layer-item__close-btn">
                    <span class="sr-only">close</span>
                  </button>
                </div>
              </div>
            </div>
          </div>
          <div class="layer-item">
            <div class="layer-item__overflow">
              <div class="layer-item__inner">
                <div class="layer-item__bg">
                  <div class="layer-item__bg-img">
                    <img src="https://picsum.photos/id/139/1920/1080" alt="" />
                  </div>
                </div>
                <div class="layer-item__preview-cont">
                  <h2 class="layer-item__heading">section 3</h2>
                </div>
                <div class="layer-item__content">
                  <div class="layer-item__text">Section Content</div>
                  <button type="button" class="layer-item__close-btn">
                    <span class="sr-only">close</span>
                  </button>
                </div>
              </div>
            </div>
          </div>
          <div class="layer-item">
            <div class="layer-item__overflow">
              <div class="layer-item__inner">
                <div class="layer-item__bg">
                  <div class="layer-item__bg-img">
                    <img src="https://picsum.photos/id/103/1920/1080" alt="" />
                  </div>
                </div>
                <div class="layer-item__preview-cont">
                  <h2 class="layer-item__heading">section 4</h2>
                </div>
                <div class="layer-item__content">
                  <div class="layer-item__text">Section Content</div>
                  <button type="button" class="layer-item__close-btn">
                    <span class="sr-only">close</span>
                  </button>
                </div>
              </div>
            </div>
          </div>
          <div class="layer-item">
            <div class="layer-item__overflow">
              <div class="layer-item__inner">
                <div class="layer-item__bg">
                  <div class="layer-item__bg-img">
                    <img src="https://picsum.photos/id/270/1920/1080" alt="" />
                  </div>
                </div>
                <div class="layer-item__preview-cont">
                  <h2 class="layer-item__heading">section 5</h2>
                </div>
                <div class="layer-item__content">
                  <div class="layer-item__text">Section Content</div>
                  <button type="button" class="layer-item__close-btn">
                    <span class="sr-only">close</span>
                  </button>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
    <script>
      var $layer = document.querySelector(".layer");
      var $layerArr = [].slice.call(document.querySelectorAll(".layer-item"));
      var $closeBtnArr = [].slice.call(
        document.querySelectorAll(".layer-item__close-btn")
      );

      setTimeout(function () {
        $layer.classList.remove("layer--inactive");
      }, 200);

      $layerArr.forEach(function ($el) {
        $el.addEventListener("click", function () {
          if (this.classList.contains("layer-item--active")) return;
          $layer.classList.add("layer--active");
          this.classList.add("layer-item--active");
        });
      });

      $closeBtnArr.forEach(function ($btn) {
        $btn.addEventListener("click", function (e) {
          e.stopPropagation();
          $layer.classList.remove("layer--active");
          document
            .querySelector(".layer-item.layer-item--active")
            .classList.remove("layer-item--active");
        });
      });
    </script>
  </body>
</html>
